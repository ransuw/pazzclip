(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{208:(e,a,t)=>{"use strict";t.d(a,{Y:()=>o});var l=t(7876),n=t(8230),r=t.n(n),s=t(8907),i=t.n(s),c=t(9099);let o=()=>{let{basePath:e}=(0,c.useRouter)();return(0,l.jsxs)("div",{className:i().header,children:[(0,l.jsx)(r(),{href:"/",className:i().mainIcon,children:(0,l.jsx)("img",{src:"".concat(e,"/pazzclip.webp"),alt:"アイコン"})}),(0,l.jsx)(r(),{href:"/character",className:i().headerIcon,children:"切り抜き"}),(0,l.jsx)(r(),{href:"/party",className:i().headerIcon,children:"チーム設定"}),(0,l.jsx)(r(),{href:"/steps2play",className:i().headerIcon,children:"攻略手順"}),(0,l.jsx)(r(),{href:"/rules",className:i().headerIcon,children:"利用規約"}),(0,l.jsx)(r(),{href:"/privacy",className:i().headerIcon,children:"プライバシーポリシー"}),(0,l.jsxs)("div",{className:i().copyright,children:[(0,l.jsx)("div",{children:(0,l.jsx)(r(),{href:"https://www.gungho.jp/",target:"_blank",style:{color:"#0070f3",textDecoration:"underline"},children:"\xa9 GungHo Online Entertainment Inc. All Right Reserved."})}),(0,l.jsx)("div",{children:(0,l.jsx)(r(),{href:"https://www.gungho.jp/manner/copyright.html",target:"_blank",style:{color:"#0070f3",textDecoration:"underline"},children:"※当サイト上で使用を想定するゲーム画像の著作権および商標権、その他知的財産権は、当該コンテンツの提供元に帰属します。"})})]})]})}},2134:(e,a,t)=>{"use strict";t.r(a),t.d(a,{__N_SSG:()=>U,default:()=>H});var l=t(7876),n=t(4232),r=t(2202),s=t.n(r);let i=e=>{let{imageUrl:a,setImageUrl:t}=e,r=(0,n.useRef)(null),i=(0,n.useCallback)(e=>{try{let a=new FileReader;a.onloadend=()=>{let e=a.result;if("string"==typeof e){let a=new Image;a.src=e,a.onload=()=>{t(e)}}},a.readAsDataURL(e)}catch(e){console.error(e)}},[t]),c=(0,n.useCallback)(e=>{e.preventDefault()},[]),o=(0,n.useCallback)(e=>{e.preventDefault();let a=e.dataTransfer.files[0];a&&i(a)},[i]),d=(0,n.useCallback)(e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];t&&i(t)},[i]);return(0,l.jsx)("div",{className:s().main,onDragOver:c,onDrop:o,onClick:()=>{var e;return null==(e=r.current)?void 0:e.click()},children:(0,l.jsxs)("div",{className:s().contents,children:[(0,l.jsx)("input",{type:"file",accept:"image/*",ref:r,style:{display:"none"},onChange:d}),!a&&(0,l.jsx)("div",{className:s().icon}),a&&(0,l.jsx)("img",{src:a,alt:"画像",className:s().image})]})})};var c=t(3478),o=t.n(c);let d=e=>{let{x:a,y:t,width:l,height:n,radius:r,imageUrl:s}=e;return new Promise((e,i)=>{if(!s)return void i(Error("画像が未設定です"));try{let i=new Image;i.onload=()=>{let s=document.createElement("canvas"),c=s.getContext("2d");s.width=l,s.height=n,c.beginPath(),c.moveTo(r,0),c.lineTo(l-r,0),c.arcTo(l,0,l,n,r),c.lineTo(l,n-r),c.arcTo(l,n,0,n,r),c.lineTo(r,n),c.arcTo(0,n,0,n-r,r),c.lineTo(0,r),c.arcTo(0,0,r,0,r),c.closePath(),c.clip(),c.drawImage(i,a,t,l,n,0,0,l,n);let o=s.toDataURL("image/png");e(o)},i.src=s}catch(e){i(e)}})},u=e=>new Promise((a,t)=>{if(!e)return void t("画像が未設定です");try{let t=new Image;t.src=e,t.onload=()=>{let e=document.createElement("canvas");e.width=t.width,e.height=t.height;let l=e.getContext("2d");l.drawImage(t,0,0);let n=l.getImageData(0,0,e.width,e.height),r=n.data;for(let e=0;e<r.length;e+=4){let[a,t,l]=[r[e],r[e+1],r[e+2]];a<10&&t<10&&l<10&&(r[e+3]=0)}l.putImageData(n,0,0);let s=e.toDataURL("image/png");a(s)}}catch(e){t(e)}});var m=t(6670);let h=(0,n.forwardRef)((e,a)=>{let{imageUrl:t,setCroppedImages:r,fileName:s}=e;(0,n.useImperativeHandle)(a,()=>({run:p}));let i="characterState",[c,h]=(0,n.useState)({characterName:{name:"キャラクター名",imageType:"characterName",x:110,y:232,width:524,height:62,radius:0},characterIcon:{name:"キャラアイコン",imageType:"characterIcon",x:14,y:932,width:114,height:117,radius:8},potential:{name:"潜在覚醒",imageType:"potential",x:170,y:863,width:410,height:47,radius:8},skill:{name:"スキル",imageType:"skill",x:13,y:1058,width:724,height:125,radius:8},leader:{name:"リーダースキル",imageType:"leader",x:13,y:1193,width:724,height:125,radius:8},arousal1:{name:"覚醒1",imageType:"arousal1",x:694,y:334,width:36,height:37,radius:7},arousal2:{name:"覚醒2",imageType:"arousal2",x:694,y:393,width:36,height:37,radius:7},arousal3:{name:"覚醒3",imageType:"arousal3",x:694,y:452,width:36,height:37,radius:7},arousal4:{name:"覚醒4",imageType:"arousal4",x:694,y:511,width:36,height:37,radius:7},arousal5:{name:"覚醒5",imageType:"arousal5",x:694,y:570,width:36,height:37,radius:7},arousal6:{name:"覚醒6",imageType:"arousal6",x:694,y:628,width:36,height:37,radius:7},arousal7:{name:"覚醒7",imageType:"arousal7",x:694,y:688,width:36,height:37,radius:7},arousal8:{name:"覚醒8",imageType:"arousal8",x:694,y:746,width:36,height:37,radius:7},arousal9:{name:"覚醒9",imageType:"arousal9",x:694,y:805,width:36,height:37,radius:7},arousal10:{name:"超覚醒 or シンクロ覚醒",imageType:"arousal10",x:638,y:334,width:36,height:37,radius:7},character:{name:"キャラ全体",imageType:"character",x:4,y:374,width:685,height:383,radius:8}});(0,n.useEffect)(()=>{if(!t)return;let e=JSON.parse(JSON.stringify(c));localStorage.setItem(i,JSON.stringify(e))},[c,t]),(0,n.useEffect)(()=>{try{let e=localStorage.getItem(i);e&&h(JSON.parse(e))}catch(e){console.error("useEffect[]でエラー",e)}},[]);let g=(0,n.useCallback)((e,a,t)=>{h(l=>({...l,[e]:{...l[e],[a]:t.target.value}}))},[]),_=(0,n.useCallback)(async(e,a,l,n,r,i,c)=>{try{let o=await d({x:e,y:a,width:l,height:n,radius:r,imageUrl:t});"characterName"==c&&(o=await u(o));let m=document.createElement("a");m.href=o,m.download="".concat(s,"_").concat(i,".png"),document.body.appendChild(m),m.click(),document.body.removeChild(m)}catch(e){console.error(e)}},[t,s]),x=(0,n.useCallback)(async(e,a,l,n,r,s)=>{try{let i=await d({x:e,y:a,width:l,height:n,radius:r,imageUrl:t});if("characterName"==s&&(i=await u(i)),!i)return void alert("画像の生成に失敗しました");let c=window.open("","_blank");if(c){let e=c.document.createElement("img");e.src=i,c.document.body.appendChild(e),c.document.body.style.backgroundColor="rgb(244, 255, 251)"}else alert("タブを開けませんでした")}catch(e){console.error(e)}},[t]),p=(0,n.useCallback)(async()=>{try{let e=[];for(let a of Object.keys(c)){let l=c[a].x,n=c[a].y,r=c[a].width,s=c[a].height,i=c[a].radius,o=await d({x:l,y:n,width:r,height:s,radius:i,imageUrl:t});e.push(o)}r(e)}catch(e){console.error(e)}},[t,c,r]),b=(0,n.useCallback)(async()=>{try{let e=[];for(let a of["characterIcon","arousal10","potential","leader"]){let{x:l,y:n,width:r,height:s,radius:i}=c[a],o=await d({x:l,y:n,width:r,height:s,radius:i,imageUrl:t});e.push(o)}(0,m.vt)(e[0],e[1],e[2],e[3])}catch(e){console.error(e)}},[t,c]);return(0,l.jsxs)("div",{className:o().relative,children:[(0,l.jsxs)("div",{className:o().header,children:[(0,l.jsx)("button",{className:o().saveButton,onClick:()=>b(),children:"アイコン保存"}),(0,l.jsx)("button",{className:o().saveButton,onClick:()=>p(),children:"パラメータ反映"}),(0,l.jsx)("div",{style:{fontSize:"12px"},children:"・・・パラメータを変更した後は必ず押してください"})]}),(0,l.jsx)("div",{className:o().main,children:Object.keys(c).map(e=>(0,l.jsxs)("div",{className:o().image_box,children:[(0,l.jsxs)("div",{className:o().control_box,children:[(0,l.jsx)("div",{children:c[e].name}),(0,l.jsxs)("div",{className:o().input_box,children:[(0,l.jsx)("div",{children:"x方向"}),(0,l.jsx)("input",{type:"number",value:c[e].x,min:"0",step:"1",onChange:a=>g(e,"x",a),className:o().number})]}),(0,l.jsxs)("div",{className:o().input_box,children:[(0,l.jsx)("div",{children:"y方向"}),(0,l.jsx)("input",{type:"number",value:c[e].y,min:"0",step:"1",onChange:a=>g(e,"y",a),className:o().number})]}),(0,l.jsxs)("div",{className:o().input_box,children:[(0,l.jsx)("div",{children:"横幅"}),(0,l.jsx)("input",{type:"number",value:c[e].width,min:"1",step:"1",onChange:a=>g(e,"width",a),className:o().number})]}),(0,l.jsxs)("div",{className:o().input_box,children:[(0,l.jsx)("div",{children:"縦幅"}),(0,l.jsx)("input",{type:"number",value:c[e].height,min:"1",step:"1",onChange:a=>g(e,"height",a),className:o().number})]}),(0,l.jsxs)("div",{className:o().input_box,children:[(0,l.jsx)("div",{children:"角丸"}),(0,l.jsx)("input",{type:"number",value:c[e].radius,min:"0",step:"1",onChange:a=>g(e,"radius",a),className:o().number})]}),(0,l.jsx)("button",{onClick:()=>_(c[e].x,c[e].y,c[e].width,c[e].height,c[e].radius,c[e].name,c[e].imageType),className:o().downloadButton,children:"ダウンロード"})]}),(0,l.jsx)("div",{className:o().img_parent,style:{width:"".concat(c[e].width,"px"),height:"".concat(c[e].height,"px"),borderRadius:"".concat(c[e].radius,"px")},children:(0,l.jsx)("img",{src:null!=t?t:void 0,alt:c[e].name,className:o().img_child,style:{objectPosition:"-".concat(c[e].x,"px -").concat(c[e].y,"px")},onClick:()=>{x(c[e].x,c[e].y,c[e].width,c[e].height,c[e].radius,c[e].imageType)}})})]},e))})]})});h.displayName="Controller";var g=t(8127),_=t.n(g),x=t(3028),p=t.n(x);let b=e=>{let{fileName:a,arousalImages:t}=e,r=(0,n.useRef)(null),[s,i]=(0,n.useState)(Array(10).fill(!0));(0,n.useEffect)(()=>{i(Array(t.length).fill(!0))},[t]);let c=(0,n.useCallback)(e=>{let a=[...s];a[e]=!a[e],i(a)},[s]),o=(0,n.useCallback)(()=>{i(s.map(()=>!0))},[s]),d=(0,n.useCallback)(()=>{r.current&&p()(r.current,{backgroundColor:null}).then(e=>{let t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download=a+"_覚醒一覧.png",t.click()})},[a]);return(0,l.jsxs)("div",{className:_().main,children:[(0,l.jsx)("div",{className:_().arousals,ref:r,children:t.map((e,a)=>s[a]&&(0,l.jsx)("img",{src:e,alt:"arousal-".concat(a),onClick:()=>c(a)},a))}),(0,l.jsx)("button",{onClick:d,className:_().buttonDownload,children:"ダウンロード"}),(0,l.jsx)("button",{onClick:o,className:_().buttonReset,children:"覚醒リセット"})]})};var y=t(9989),j=t.n(y);let v=e=>{let{fileName:a,arousalImages:t,skillImage:r}=e,s=(0,n.useRef)(null),[i,c]=(0,n.useState)(Array(10).fill(!0)),o=(0,n.useCallback)(e=>{let a=[...i];a[e]=!a[e],c(a)},[i]),d=(0,n.useCallback)(()=>{c(i.map(()=>!0))},[i]),u=(0,n.useCallback)(()=>{s.current&&p()(s.current,{backgroundColor:null}).then(e=>{let t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download=a+"_スキル覚醒.png",t.click()})},[a]);return(0,l.jsxs)("div",{className:j().main,children:[(0,l.jsxs)("div",{className:j().skillArousals,ref:s,children:[r&&(0,l.jsx)("img",{src:r,alt:"スキル"}),(0,l.jsx)("div",{className:j().arousals,children:t.map((e,a)=>i[a]&&(0,l.jsx)("img",{src:e,alt:"arousal-".concat(a),onClick:()=>o(a)},a))})]}),(0,l.jsx)("button",{onClick:u,className:j().buttonDownload,children:"ダウンロード"}),(0,l.jsx)("button",{onClick:d,className:j().buttonReset,children:"覚醒リセット"})]})};var k=t(8025),w=t.n(k),N=t(8847),f=t.n(N);let C=f()(()=>t.e(852).then(t.bind(t,4852)),{loadableGenerated:{webpack:()=>[4852]},ssr:!1}),I=e=>{let{fileName:a,arousalImages:t,skillImage:r,iconImage:s,nameImage:i,potentialImage:c}=e,o=(0,n.useRef)(null),[d,u]=(0,n.useState)(Array(10).fill(!0)),[m,h]=(0,n.useState)(!0),[g,_]=(0,n.useState)("rgba(255, 200, 0, 0.775)"),[x,b]=(0,n.useState)(-376),y=(0,n.useCallback)(e=>{let a=[...d];a[e]=!a[e],u(a)},[d]),j=(0,n.useCallback)(()=>{h(!1)},[]),v=(0,n.useCallback)(()=>{u(d.map(()=>!0)),h(!0),b(-376)},[d,-376]),k=(0,n.useCallback)(()=>{o.current&&p()(o.current,{backgroundColor:null}).then(e=>{let t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download=a+"_ステッカー.png",t.click()})},[a]);return(0,l.jsxs)("div",{className:w().main,children:[(0,l.jsxs)("div",{className:w().container,ref:o,style:{background:g},children:[(0,l.jsxs)("div",{className:w().container_upper,children:[(0,l.jsx)("div",{className:w().icon,children:s&&(0,l.jsx)("img",{src:s,alt:"アイコン"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:w().name,children:i&&(0,l.jsx)("img",{src:i,alt:"キャラクター名"})}),(0,l.jsx)("div",{className:w().arousals,children:t.map((e,a)=>d[a]&&(0,l.jsx)("img",{src:e,alt:"arousal-".concat(a),onClick:()=>y(a)},a))})]})]}),(0,l.jsxs)("div",{className:w().skill,children:[r&&(0,l.jsx)("img",{src:r,alt:"スキル"}),(0,l.jsx)("div",{className:w().potential,style:{marginLeft:x},children:c&&m&&(0,l.jsx)("img",{src:c,alt:"潜在覚醒",onClick:()=>j()})})]})]}),(0,l.jsx)(C,{color:g,onChange:e=>{_("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"))}}),(0,l.jsxs)("div",{className:w().option,children:[(0,l.jsx)("button",{onClick:k,className:w().buttonDownload,children:"ダウンロード"}),(0,l.jsx)("button",{onClick:v,className:w().buttonReset,children:"覚醒リセット"}),(0,l.jsx)("input",{type:"range",min:-500,max:500,value:x,onChange:e=>b(Number(e.target.value))})]})]})},S=f()(()=>t.e(852).then(t.bind(t,4852)),{loadableGenerated:{webpack:()=>[4852]},ssr:!1}),T=e=>{let{fileName:a,arousalImages:t,skillImage:r,iconImage:s,nameImage:i,potentialImage:c,leaderSkillImage:o}=e,d=(0,n.useRef)(null),[u,m]=(0,n.useState)(Array(10).fill(!0)),[h,g]=(0,n.useState)(!0),[_,x]=(0,n.useState)("rgba(255, 200, 0, 0.775)"),[b,y]=(0,n.useState)(-376),j=(0,n.useCallback)(e=>{let a=[...u];a[e]=!a[e],m(a)},[u]),v=(0,n.useCallback)(()=>{g(!1)},[h]),k=(0,n.useCallback)(()=>{m(u.map(()=>!0)),g(!0),y(-376)},[u,-376]),N=(0,n.useCallback)(()=>{d.current&&p()(d.current,{backgroundColor:null}).then(e=>{let t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download=a+"_ステッカー(リーダースキル).png",t.click()})},[a]);return(0,l.jsxs)("div",{className:w().main,children:[(0,l.jsxs)("div",{className:w().container,ref:d,style:{background:_},children:[(0,l.jsxs)("div",{className:w().container_upper,children:[(0,l.jsx)("div",{className:w().icon,children:s&&(0,l.jsx)("img",{src:s,alt:"アイコン"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:w().name,children:i&&(0,l.jsx)("img",{src:i,alt:"キャラクター名"})}),(0,l.jsx)("div",{className:w().arousals,children:t.map((e,a)=>u[a]&&(0,l.jsx)("img",{src:e,alt:"arousal-".concat(a),onClick:()=>j(a)},a))})]})]}),(0,l.jsxs)("div",{className:w().skill,children:[r&&(0,l.jsx)("img",{src:r,alt:"スキル"}),(0,l.jsx)("div",{className:w().potential,style:{marginLeft:b},children:c&&h&&(0,l.jsx)("img",{src:c,alt:"潜在覚醒",onClick:()=>v()})})]}),(0,l.jsx)("div",{className:w().skill,children:o&&(0,l.jsx)("img",{src:o,alt:"リーダースキル"})})]}),(0,l.jsx)(S,{color:_,onChange:e=>{x("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")"))}}),(0,l.jsxs)("div",{className:w().option,children:[(0,l.jsx)("button",{onClick:N,className:w().buttonDownload,children:"ダウンロード"}),(0,l.jsx)("button",{onClick:k,className:w().buttonReset,children:"覚醒リセット"}),(0,l.jsx)("input",{type:"range",min:-500,max:500,value:b,onChange:e=>y(Number(e.target.value))})]})]})};var D=t(7467),R=t.n(D);function A(e){let{croppedImages:a,fileName:t}=e,[r,s]=(0,n.useState)([]),[i,c]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),[g,_]=(0,n.useState)(""),[x,p]=(0,n.useState)(""),y=(0,n.useCallback)(async e=>{h(await u(e))},[]);return(0,n.useEffect)(()=>{y(a[0]),d(a[1]),_(a[2]),c(a[3]),p(a[4]),s(a.slice(5,15))},[a,y]),(0,l.jsx)("div",{className:R().main,children:(0,l.jsxs)("div",{className:R().main_contents,children:[(0,l.jsx)(b,{fileName:t,arousalImages:r}),(0,l.jsx)(v,{fileName:t,arousalImages:r,skillImage:i}),(0,l.jsx)(I,{fileName:t,arousalImages:r,skillImage:i,iconImage:o,nameImage:m,potentialImage:g}),(0,l.jsx)(T,{fileName:t,arousalImages:r,skillImage:i,iconImage:o,nameImage:m,potentialImage:g,leaderSkillImage:x})]})})}var E=t(3428),P=t.n(E);let L=()=>{let[e,a]=(0,n.useState)("controller"),[t,r]=(0,n.useState)(null),[s,c]=(0,n.useState)([]),[o,d]=(0,n.useState)(""),u=(0,n.useRef)(null),m=()=>{var e;null==(e=u.current)||e.run()};return(0,n.useEffect)(()=>{m()},[t]),(0,l.jsxs)("div",{className:P().main,children:[(0,l.jsxs)("div",{className:P().tabButtons,children:[(0,l.jsx)("button",{onClick:()=>a("controller"),className:P().tabButton,children:"画像設定"}),(0,l.jsx)("button",{onClick:()=>a("editor"),className:P().tabButton,children:"ステッカー"}),(0,l.jsx)("input",{type:"text",value:o,onChange:e=>{d(e.target.value)},className:P().text_box,placeholder:"ダウンロードするファイル名"}),(0,l.jsx)(i,{imageUrl:t,setImageUrl:r})]}),(0,l.jsxs)("div",{className:P().tabContent,children:[(0,l.jsx)("div",{style:{display:"controller"===e?"block":"none"},children:(0,l.jsx)(h,{imageUrl:t,setCroppedImages:c,fileName:o,ref:u})}),(0,l.jsx)("div",{style:{display:"editor"===e?"block":"none"},children:(0,l.jsx)(A,{croppedImages:s,fileName:o})})]})]})};var B=t(208),O=t(3916),U=!0;function H(){return(0,l.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",overflow:"auto"},children:[(0,l.jsx)(B.Y,{}),(0,l.jsx)(O.P.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{duration:.5},children:(0,l.jsx)(L,{})})]})}},2202:e=>{e.exports={main:"Setting_main__L7r71",contents:"Setting_contents___aiJm",icon:"Setting_icon__pmDTc",image:"Setting_image__u7TXC"}},3428:e=>{e.exports={main:"CharacterTab_main__OHvLl",tabButtons:"CharacterTab_tabButtons__b4AkV",tabButton:"CharacterTab_tabButton__PBJdp",text_box:"CharacterTab_text_box__Et3BE"}},3478:e=>{e.exports={relative:"Controller_relative__nWPKQ",main:"Controller_main__bKfLm",image_box:"Controller_image_box__0xfZj",img_parent:"Controller_img_parent__Z0rUd",img_child:"Controller_img_child__HnbTM",control_box:"Controller_control_box__JpvdB",input_box:"Controller_input_box__l2lGc",number:"Controller_number__UM1vP",header:"Controller_header__cly_H",downloadButton:"Controller_downloadButton__Iy5Tm",saveButton:"Controller_saveButton__VszIB"}},6670:(e,a,t)=>{"use strict";t.d(a,{LF:()=>y,OS:()=>u,V8:()=>_,hy:()=>b,k:()=>x,lP:()=>m,pB:()=>d,pi:()=>p,ss:()=>h,vD:()=>g,vt:()=>o});var l=t(9523);let n="characterImages",r="arousalImages",s="iconImages",i=async()=>(0,l.P2)("CharacterDB",1,{upgrade(e){e.objectStoreNames.contains(n)||e.createObjectStore(n,{keyPath:"id",autoIncrement:!0}),e.objectStoreNames.contains(r)||e.createObjectStore(r,{keyPath:"id",autoIncrement:!1}),e.objectStoreNames.contains(s)||e.createObjectStore(s,{keyPath:"id",autoIncrement:!0})}}),c=async e=>{try{let a=(await i()).transaction(e,"readwrite");return await a.objectStore(e).clear(),await a.done,!0}catch(e){return console.error("clearImages 失敗:",e),!1}},o=async(e,a,t,l)=>{try{let r=await i();await r.add(n,{characterIcon:e,arousal10:a,potential:t,leader:l})}catch(e){console.log("saveCharacterImages",e)}},d=async()=>{let e=(await i()).transaction(n,"readonly").objectStore(n);return(await e.getAll()).reverse().map(e=>{let{id:a,characterIcon:t}=e;return{id:a,characterIcon:t}})},u=async e=>{let a=await i();return await a.get(n,e)},m=async()=>{try{return c(n)}catch(e){return console.error("clearCharacterImages 失敗:",e),!1}},h=async(e,a)=>{try{let t=await i();await t.put(r,{id:e,image:a})}catch(e){console.log("saveArousalImage",e)}},g=async e=>{let a=await i();return await a.get(r,e)},_=async()=>{try{return c(r)}catch(e){return console.error("clearImages 失敗:",e),!1}},x=async(e,a)=>{try{let t=await i();await t.add(s,{key:e,image:a})}catch(e){console.log("saveIconImage",e)}},p=async()=>{let e=await i(),a=e.transaction(s,"readonly").objectStore(s),t=await a.getAll(),l=e.transaction(n,"readonly").objectStore(n),r=await l.getAll();return[...t.map(e=>{let{key:a,image:t}=e;return{type:"icon",key:a,image:t}}),...r.map(e=>{let{id:a,characterIcon:t}=e;return{type:"character",key:a+"'",image:t}})]},b=async e=>{try{let a=await i(),t=a.transaction(s,"readonly").objectStore(s),l=await t.getAll(),r=a.transaction(n,"readonly").objectStore(n),c=await r.getAll();return[...l.map(e=>{let{key:a,image:t}=e;return{type:"icon",key:a,image:t}}),...c.map(e=>{let{id:a,characterIcon:t}=e;return{type:"character",key:a+"'",image:t}})].some(a=>a.key===e)}catch(e){return console.error("checkIconKey 失敗:",e),!1}},y=async()=>{try{return c(s)}catch(e){return console.error("clearImages 失敗:",e),!1}}},7428:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/character",function(){return t(2134)}])},7467:e=>{e.exports={main:"Editor_main__vciD0",main_contents:"Editor_main_contents__p_fM4"}},8025:e=>{e.exports={main:"IconSkills_main__Ik3Px",container:"IconSkills_container__PAvmo",container_upper:"IconSkills_container_upper__zd1sD",icon:"IconSkills_icon__RfPlO",name:"IconSkills_name__fGPeb",arousals:"IconSkills_arousals__4I7Lv",skill:"IconSkills_skill__RrUQU",potential:"IconSkills_potential__cUszk",option:"IconSkills_option__5I96R",buttonDownload:"IconSkills_buttonDownload__1aVYD",buttonReset:"IconSkills_buttonReset__fVeEs"}},8127:e=>{e.exports={main:"ArousalList_main__xOHxW",arousals:"ArousalList_arousals__ZyL8d",buttonDownload:"ArousalList_buttonDownload__bhTjI",buttonReset:"ArousalList_buttonReset__dwcia"}},8907:e=>{e.exports={main:"Header_main__ck7TP",header:"Header_header__072v2",mainIcon:"Header_mainIcon__No0Lm",headerIcon:"Header_headerIcon__N5vzn",copyright:"Header_copyright__oIrOL"}},9989:e=>{e.exports={main:"SkillArousals_main__d2k40",skillArousals:"SkillArousals_skillArousals__D0voD",arousals:"SkillArousals_arousals__4hZOk",buttonDownload:"SkillArousals_buttonDownload___dPUF",buttonReset:"SkillArousals_buttonReset__3VKaq"}}},e=>{var a=a=>e(e.s=a);e.O(0,[366,389,805,636,593,792],()=>a(7428)),_N_E=e.O()}]);